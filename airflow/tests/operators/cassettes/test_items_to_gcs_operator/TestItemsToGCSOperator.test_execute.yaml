interactions:
- request:
    body: "--===============5953646368473391407==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv\",
      \"crc32c\": \"aCkoQQ==\"}\r\n--===============5953646368473391407==\r\ncontent-type:
      text/csv\r\n\r\ntesting_date\r\n2025-06-01\r\n\r\n--===============5953646368473391407==--"
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - FILTERED
      Connection:
      - keep-alive
      Content-Length:
      - '343'
      User-Agent:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0
      X-Goog-API-Client:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0 gccl-invocation-id/906ff536-9a58-4ade-be00-34764b4261f6
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT01OTUzNjQ2MzY4NDcz
        MzkxNDA3PT0i
      x-goog-user-project:
      - cal-itp-data-infra-staging
      x-upload-content-type:
      - text/csv
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/calitp-staging-pytest/o?uploadType=multipart
  response:
    body:
      string: "{\n  \"kind\": \"storage#object\",\n  \"id\": \"calitp-staging-pytest/california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv/1767629857838731\",\n
        \ \"selfLink\": \"https://www.googleapis.com/storage/v1/b/calitp-staging-pytest/o/california_open_data__testing%2Fdt=2025-06-01%2Fts=2025-06-01T00:00:00%2B00:00%2Ftesting.csv\",\n
        \ \"mediaLink\": \"https://storage.googleapis.com/download/storage/v1/b/calitp-staging-pytest/o/california_open_data__testing%2Fdt=2025-06-01%2Fts=2025-06-01T00:00:00%2B00:00%2Ftesting.csv?generation=1767629857838731&alt=media\",\n
        \ \"name\": \"california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv\",\n
        \ \"bucket\": \"calitp-staging-pytest\",\n  \"generation\": \"1767629857838731\",\n
        \ \"metageneration\": \"1\",\n  \"contentType\": \"text/csv\",\n  \"storageClass\":
        \"STANDARD\",\n  \"size\": \"26\",\n  \"md5Hash\": \"KKs5MusYBmeUcUR+KTkjIQ==\",\n
        \ \"crc32c\": \"aCkoQQ==\",\n  \"etag\": \"CIutla7m9JEDEAE=\",\n  \"timeCreated\":
        \"2026-01-05T16:17:37.848Z\",\n  \"updated\": \"2026-01-05T16:17:37.848Z\",\n
        \ \"timeStorageClassUpdated\": \"2026-01-05T16:17:37.848Z\",\n  \"timeFinalized\":
        \"2026-01-05T16:17:37.848Z\"\n}\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '1122'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 05 Jan 2026 16:17:37 GMT
      ETag:
      - CIutla7m9JEDEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AHVrFxMLqu3H20DW4oIh2Lu7yNKMb6fqxPkrRnu-uQ7iizsTT6We14Cu4ssL0rzTsvrXtVVKf51EEaI
    status:
      code: 200
      message: OK
- request:
    body: "--===============4943544878929507841==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv\",
      \"crc32c\": \"aCkoQQ==\"}\r\n--===============4943544878929507841==\r\ncontent-type:
      text/csv\r\n\r\ntesting_date\r\n2025-06-01\r\n\r\n--===============4943544878929507841==--"
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - FILTERED
      Connection:
      - keep-alive
      Content-Length:
      - '343'
      User-Agent:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0
      X-Goog-API-Client:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0 gccl-invocation-id/3b28aff6-d4b0-4f74-8741-43c0192cb65e
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT00OTQzNTQ0ODc4OTI5
        NTA3ODQxPT0i
      x-goog-user-project:
      - cal-itp-data-infra-staging
      x-upload-content-type:
      - text/csv
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/calitp-staging-pytest/o?uploadType=multipart
  response:
    body:
      string: "{\n  \"kind\": \"storage#object\",\n  \"id\": \"calitp-staging-pytest/california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv/1767629858705919\",\n
        \ \"selfLink\": \"https://www.googleapis.com/storage/v1/b/calitp-staging-pytest/o/california_open_data__testing%2Fdt=2025-06-01%2Fts=2025-06-01T00:00:00%2B00:00%2Ftesting.csv\",\n
        \ \"mediaLink\": \"https://storage.googleapis.com/download/storage/v1/b/calitp-staging-pytest/o/california_open_data__testing%2Fdt=2025-06-01%2Fts=2025-06-01T00:00:00%2B00:00%2Ftesting.csv?generation=1767629858705919&alt=media\",\n
        \ \"name\": \"california_open_data__testing/dt=2025-06-01/ts=2025-06-01T00:00:00+00:00/testing.csv\",\n
        \ \"bucket\": \"calitp-staging-pytest\",\n  \"generation\": \"1767629858705919\",\n
        \ \"metageneration\": \"1\",\n  \"contentType\": \"text/csv\",\n  \"storageClass\":
        \"STANDARD\",\n  \"size\": \"26\",\n  \"md5Hash\": \"KKs5MusYBmeUcUR+KTkjIQ==\",\n
        \ \"crc32c\": \"aCkoQQ==\",\n  \"etag\": \"CP+jyq7m9JEDEAE=\",\n  \"timeCreated\":
        \"2026-01-05T16:17:38.714Z\",\n  \"updated\": \"2026-01-05T16:17:38.714Z\",\n
        \ \"timeStorageClassUpdated\": \"2026-01-05T16:17:38.714Z\",\n  \"timeFinalized\":
        \"2026-01-05T16:17:38.714Z\"\n}\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '1122'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 05 Jan 2026 16:17:38 GMT
      ETag:
      - CP+jyq7m9JEDEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AHVrFxPrOlpU9ph9LOybixHciSpGd35WYcAg38JgzPooHf6HSIOnXjlt-L5MdYhhwKlo5n2WPackrDo
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Authorization:
      - FILTERED
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0
      X-Goog-API-Client:
      - gcloud-python/3.7.0  gl-python/3.11.6 grpc/1.76.0 gax/2.28.1 gapic/3.39.0
        gccl/3.7.0 gccl-invocation-id/b679152f-74b1-4958-bf48-c6599a9c25de
      accept-encoding:
      - gzip
      content-type:
      - application/json; charset=UTF-8
      x-goog-user-project:
      - cal-itp-data-infra-staging
      x-upload-content-type:
      - application/json; charset=UTF-8
    method: GET
    uri: https://storage.googleapis.com/download/storage/v1/b/calitp-staging-pytest/o/california_open_data__testing%2Fdt%3D2025-06-01%2Fts%3D2025-06-01T00%3A00%3A00%2B00%3A00%2Ftesting.csv?alt=media
  response:
    body:
      string: "testing_date\r\n2025-06-01\r\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Length:
      - '26'
      Content-Type:
      - text/csv
      Date:
      - Mon, 05 Jan 2026 16:17:39 GMT
      ETag:
      - CP+jyq7m9JEDEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Last-Modified:
      - Mon, 05 Jan 2026 16:17:38 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AHVrFxOxOnFrLTTRCXneD4DZKZvE34ibTVSdqa1_66JcUNkY1bPge9tTsli7atZkjTlBQ3Pt-LzWPIs
      X-Goog-Generation:
      - '1767629858705919'
      X-Goog-Hash:
      - crc32c=aCkoQQ==,md5=KKs5MusYBmeUcUR+KTkjIQ==
      X-Goog-Metageneration:
      - '1'
      X-Goog-Storage-Class:
      - STANDARD
      X-Goog-Stored-Content-Encoding:
      - identity
      X-Goog-Stored-Content-Length:
      - '26'
    status:
      code: 200
      message: OK
version: 1
