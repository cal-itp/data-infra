version: 2

sources:
  - name: amplitude
    description: Data exported from Amplitude.
    database: "{{ env_var('CALITP_DBT_SOURCE_DATABASE', var('DEFAULT_SOURCE_DATABASE')) }}"
    schema: amplitude
    tables:
      - name: benefits_events

models:
  - name: amplitude_benefits_events
    description: |
      Benefits application event data from Amplitude, via Google Cloud Services and BigQuery. See more details of data schema here https://developers.amplitude.com/docs/http-api-v2#properties-1
    columns:
      - name: amplitude_id
        description: INT64
      - name: app
        description: App name
      - name: city
        description: The current city of the user
      - name: client_event_time
        description: Client event timestamp
      - name: client_upload_time
        description: Client upload time
      - name: country
        description: The current country of the user
      - name: device_family
        description: The device family that the user is using
      - name: device_id
        description: A device-specific identifier such as the Identifier for Vendor on iOS
      - name: device_type
        description: The device type that the user is using
      - name: event_id
        description: An incrementing counter to distinguish events with the same user_id and timestamp from each other
      - name: event_properties_language
        description: Event property language - Application language
      - name: event_properties_path
        description: Event property path - Application path
      - name: event_properties_provider_name
        description: Event property provider name - Transit provider name
      - name: event_properties_status
        description: Eligibility check event property status - cancel, fail or success
      - name: event_time
        description: Event time (e.g. "2021-12-09 00:45:29.430000")
      - name: event_type
        description: The unique identifier for your event
      - name: language
        description: The language set by the user
      - name: processed_time
        description: Processed time
      - name: schema
        description: Schema
      - name: server_received_time
        description: Server received time
      - name: server_upload_time
        description: Server upload time
      - name: session_id
        description: The start time of the session in milliseconds since epoch
      - name: user_creation_time
        description: User creation time
      - name: user_id
        description: A readable ID specified by you
      - name: user_properties_provider_name
        description: User property provider name
      - name: user_properties_referrer
        description: User property preferrer
      - name: user_properties_referring_domain
        description: User property referring domain
      - name: user_properties_user_agent
        description: User property user agent
      - name: uuid
        description: UUID
      - name: version_name
        description: Version name
