version: 2

models:
  - name: stg_transit_database__components
    description: '{{ doc("components_table") }}'
    columns:
      - &key
        name: key
        tests: &primary_key_tests
          - not_null
          - unique
      - &name
        name: name
        tests:
          - not_null:
              severity: warn
  - name: stg_transit_database__contracts
    description: '{{ doc("contracts_table") }}'
    columns:
      - *key
      - *name
  - name: stg_transit_database__products
    description: '{{ doc("products_table") }}'
    columns:
      - *key
      - *name
  - name: stg_transit_database__service_components
    description: '{{ doc("service_components_table") }}'
    columns:
      - *key
      - *name
  - name: stg_transit_database__relationships_service_components
    description: |
      Service/component relationship data.
  - name: stg_transit_database__data_schemas
    description: '{{ doc("data_schemas_table") }}'
    columns:
      - *key
      - *name
  - name: stg_transit_database__organizations
    description: '{{ doc("organizations_table") }}'
    columns:
      - *key
  - name: stg_transit_database__services
    description: '{{ doc("services_table") }}'
    columns:
      - *key
      - *name
  - name: stg_transit_database__properties_and_features
    columns:
      - *key
      - *name
  - name: stg_transit_database__gtfs_datasets
    description: '{{ doc("gtfs_datasets_table") }}'
    columns:
      - *key
      - *name
      - name: data
      - name: uri
      - name: future_uri
      - name: calitp_extracted_at
  - name: stg_transit_database__gtfs_service_data
    description: '{{ doc("gtfs_service_data_table") }}'
    columns:
      - *key
      - *name
      - name: services
      - name: gtfs_dataset
      - name: category
      - name: calitp_extracted_at
