version: 2

models:
  - name: fct_benefits_events
    description: |
      Events from the Benefits application, from Amplitude. Parsed & Expanded.
    columns:
      - name: app
        description: int
      - name: device_id
        description: string
      - name: user_id
        description: string
      - name: client_event_time
        description: UTC ISO-8601 timestamp
      - name: event_id
        description: int
      - name: session_id
        description: long
      - name: event_type
        description: string
      - name: version_name
        description: string
      - name: os_name
        description: string
      - name: os_version
        description: string
      - name: device_family
        description: string
      - name: device_type
        description: string
      - name: country
        description: string
      - name: language
        description: string
      - name: library
        description: string
      - name: city
        description: string
      - name: region
        description: string
      - name: event_time
        description: UTC ISO-8601 timestamp
      - name: client_upload_time
        description: UTC ISO-8601 timestamp
      - name: server_upload_time
        description: UTC ISO-8601 timestamp
      - name: server_received_time
        description: UTC ISO-8601 timestamp
      - name: amplitude_id
        description: long
      - name: start_version
        description: string
      - name: uuid
        description: UUID
      - name: processed_time
        description: UTC ISO-8601 timestamp
      - name: event_properties_enrollment_method
        description: The `enrollment_method` value from the `event_properties` column
      - name: event_properties_claims_provider
        description: The `claims_provider` value from the `event_properties` column (previously `event_properties_auth_provider`)
      - name: event_properties_card_tokenize_func
        description: The `card_tokenize_func` value from the `event_properties` column
      - name: event_properties_card_tokenize_url
        description: The `card_tokenize_url` value from the `event_properties` column
      - name: event_properties_eligibility_verifier
        description: The `eligibility_verifier` value from the `event_properties` column
      - name: event_properties_error_name
        description: The `error` value from the `event_properties` column
      - name: event_properties_error_status
        description: The `error` value from the `event_properties` column
      - name: event_properties_error_sub
        description: The `error` value from the `event_properties` column
      - name: event_properties_extra_claims
        description: The `extra_claims` value from the `event_properties` column
      - name: event_properties_href
        description: The `href` value from the `event_properties` column
      - name: event_properties_language
        description: The `language` value from the `event_properties` column
      - name: event_properties_origin
        description: The `origin` value from the `event_properties` column
      - name: event_properties_path
        description: The `path` value from the `event_properties` column
      - name: event_properties_enrollment_group
        description: The `enrollment_group` value from the `event_properties` column (previously `event_properties_payment_group`)
      - name: event_properties_status
        description: The `status` value from the `event_properties` column
      - name: event_properties_transit_agency
        description: The `transit_agency` value from the `event_properties` column
      - name: event_properties_enrollment_flows
        description: A semi-colon delimited list of `enrollment_flows` values from the `event_properties` column (previously `event_properties_eligibility_types`)
      - name: user_properties_enrollment_method
        description: The `enrollment_method` value from the `user_properties` column
      - name: user_properties_eligibility_verifier
        description: The `eligibility_verifier` value from the `user_properties` column
      - name: user_properties_initial_referrer
        description: The `initial_referrer` value from the `user_properties` column
      - name: user_properties_initial_referring_domain
        description: The `initial_referring_domain` value from the `user_properties` column
      - name: user_properties_referrer
        description: The `referrer` value from the `user_properties` column
      - name: user_properties_referring_domain
        description: The `referring_domain` value from the `user_properties` column
      - name: user_properties_transit_agency
        description: The `transit_agency` value from the `user_properties` column. For entries prior to October 2022, the information in this column came from the `provider_name` field of `user_properties`.
      - name: user_properties_user_agent
        description: The `user_agent` value from the `user_properties` column
      - name: user_properties_enrollment_flows
        description: A semi-colon delimited list of `enrollment_flows` values from the `user_properties` column (previously `user_properties_eligibility_types`)
