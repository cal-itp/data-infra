resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-atn-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:atn-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-ccjpa-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:ccjpa-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-clean-air-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:clean-air-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-humboldt-transit-authority-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:humboldt-transit-authority@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-lake-transit-authority-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:lake-transit-authority@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-mendocino-transit-authority-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:mendocino-transit-authority@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-mst-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:mst-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-redwood-coast-transit-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:redwood-coast-transit@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-sacrt-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:sacrt-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-AgencyPaymentsServiceReaderserviceAccount-003A-sbmtd-payments-user-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:sbmtd-payments-user@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "projects/cal-itp-data-infra/roles/AgencyPaymentsServiceReader"
}

resource "google_project_iam_member" "tfer--roles-002F-appengine-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-gae-service-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-gae-service.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/appengine.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-appengineflex-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gae-api-prod-002E-google-002E-com-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gae-api-prod.google.com.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/appengineflex.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-artifactregistry-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-artifactregistry-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-artifactregistry.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/artifactregistry.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-adminserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataEditorserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataEditor"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataEditorserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataEditor"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-473674835135-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:473674835135-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-calitp-py-ci-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:calitp-py-ci@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-gh-actions-mobi-mart-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gh-actions-mobi-mart@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-jupyterlab-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jupyterlab@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-metabase-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-dataViewerserviceAccount-003A-metabase-payments-team-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase-payments-team@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.dataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-473674835135-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:473674835135-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-calitp-py-ci-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:calitp-py-ci@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-gh-actions-mobi-mart-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gh-actions-mobi-mart@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-jupyterlab-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jupyterlab@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-metabase-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-jobUserserviceAccount-003A-metabase-payments-team-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase-payments-team@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.jobUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-metadataViewerserviceAccount-003A-jupyterlab-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jupyterlab@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.metadataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-metadataViewerserviceAccount-003A-metabase-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.metadataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-metadataViewerserviceAccount-003A-metabase-payments-team-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase-payments-team@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.metadataViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-readSessionUserserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.readSessionUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-readSessionUserserviceAccount-003A-jupyterlab-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jupyterlab@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.readSessionUser"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-userserviceAccount-003A-473674835135-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:473674835135-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.user"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-userserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.user"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquery-002E-userserviceAccount-003A-calitp-py-ci-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:calitp-py-ci@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquery.user"
}

resource "google_project_iam_member" "tfer--roles-002F-bigquerydatatransfer-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-bigquerydatatransfer-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-bigquerydatatransfer.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/bigquerydatatransfer.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudasset-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-cloudasset-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-cloudasset.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudasset.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudbuild-002E-builds-002E-builderserviceAccount-003A-1005246706141-0040-cloudbuild-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:1005246706141@cloudbuild.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudbuild.builds.builder"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudbuild-002E-builds-002E-viewerserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudbuild.builds.viewer"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudbuild-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-cloudbuild-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-cloudbuild.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudbuild.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudfunctions-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcf-admin-robot-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcf-admin-robot.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudfunctions.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-cloudscheduler-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-cloudscheduler-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-cloudscheduler.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/cloudscheduler.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-ServiceAgentV2ExtserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.ServiceAgentV2Ext"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-ServiceAgentV2ExtserviceAccount-003A-service-1005246706141-0040-cloudcomposer-accounts-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@cloudcomposer-accounts.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.ServiceAgentV2Ext"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-adminserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-serviceAgentserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-cloudcomposer-accounts-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@cloudcomposer-accounts.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-composer-002E-workerserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/composer.worker"
}

resource "google_project_iam_member" "tfer--roles-002F-compute-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-compute-system-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@compute-system.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/compute.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-container-002E-adminserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/container.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-container-002E-nodeServiceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-gkenode-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-gkenode.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/container.nodeServiceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-container-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-container-engine-robot-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@container-engine-robot.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/container.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-containerregistry-002E-ServiceAgentserviceAccount-003A-service-1005246706141-0040-containerregistry-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@containerregistry.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/containerregistry.ServiceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-dataproc-002E-editorserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/dataproc.editor"
}

resource "google_project_iam_member" "tfer--roles-002F-dataproc-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-dataproc-accounts-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@dataproc-accounts.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/dataproc.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-dataproc-002E-workerserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/dataproc.worker"
}

resource "google_project_iam_member" "tfer--roles-002F-editorserviceAccount-003A-1005246706141-0040-cloudservices-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:1005246706141@cloudservices.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/editor"
}

resource "google_project_iam_member" "tfer--roles-002F-editorserviceAccount-003A-1005246706141-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:1005246706141-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/editor"
}

resource "google_project_iam_member" "tfer--roles-002F-editorserviceAccount-003A-cal-itp-data-infra-0040-appspot-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:cal-itp-data-infra@appspot.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/editor"
}

resource "google_project_iam_member" "tfer--roles-002F-firebaserules-002E-systemserviceAccount-003A-service-1005246706141-0040-firebase-rules-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@firebase-rules.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/firebaserules.system"
}

resource "google_project_iam_member" "tfer--roles-002F-firestore-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-firestore-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-firestore.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/firestore.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-iam-002E-serviceAccountUserserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/iam.serviceAccountUser"
}

resource "google_project_iam_member" "tfer--roles-002F-ownerserviceAccount-003A-cc-jarvus-airflow-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:cc-jarvus-airflow@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/owner"
}

resource "google_project_iam_member" "tfer--roles-002F-run-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-serverless-robot-prod-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@serverless-robot-prod.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/run.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-secretAccessorserviceAccount-003A-1005246706141-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:1005246706141-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.secretAccessor"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-secretAccessorserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.secretAccessor"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-secretAccessorserviceAccount-003A-dev-gtfs-rt-archiver-v3-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:dev-gtfs-rt-archiver-v3@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.secretAccessor"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-secretAccessorserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.secretAccessor"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-secretAccessorserviceAccount-003A-gtfs-rt-archiver-v3-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gtfs-rt-archiver-v3@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.secretAccessor"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-viewerserviceAccount-003A-1005246706141-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:1005246706141-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.viewer"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-viewerserviceAccount-003A-composer2-service-account-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:composer2-service-account@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.viewer"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-viewerserviceAccount-003A-dev-gtfs-rt-archiver-v3-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:dev-gtfs-rt-archiver-v3@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.viewer"
}

resource "google_project_iam_member" "tfer--roles-002F-secretmanager-002E-viewerserviceAccount-003A-gtfs-rt-archiver-v3-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gtfs-rt-archiver-v3@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/secretmanager.viewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-adminserviceAccount-003A-amplitude-export-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:amplitude-export@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-adminserviceAccount-003A-github-actions-services-accoun-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:github-actions-services-accoun@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-adminserviceAccount-003A-service-1005246706141-0040-gcp-sa-storageinsights-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-storageinsights.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.admin"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectAdminserviceAccount-003A-amplitude-export-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:amplitude-export@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectAdmin"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectAdminserviceAccount-003A-bq-transform-svcacct-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:bq-transform-svcacct@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectAdmin"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectCreatorserviceAccount-003A-gtfs-rt-archiver-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gtfs-rt-archiver@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectCreator"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectViewerserviceAccount-003A-473674835135-compute-0040-developer-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:473674835135-compute@developer.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectViewerserviceAccount-003A-gtfs-rt-archiver-v3-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:gtfs-rt-archiver-v3@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectViewerserviceAccount-003A-jupyterlab-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jupyterlab@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectViewerserviceAccount-003A-metabase-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storage-002E-objectViewerserviceAccount-003A-metabase-payments-team-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:metabase-payments-team@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storage.objectViewer"
}

resource "google_project_iam_member" "tfer--roles-002F-storageinsights-002E-serviceAgentserviceAccount-003A-service-1005246706141-0040-gcp-sa-storageinsights-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:service-1005246706141@gcp-sa-storageinsights.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/storageinsights.serviceAgent"
}

resource "google_project_iam_member" "tfer--roles-002F-viewerserviceAccount-003A-jyoung-cal-itp-0040-cal-itp-data-infra-002E-iam-002E-gserviceaccount-002E-com" {
  member  = "serviceAccount:jyoung-cal-itp@cal-itp-data-infra.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
  role    = "roles/viewer"
}

resource "google_project_iam_member" "github-actions-terraform" {
  for_each = toset([
    "roles/resourcemanager.projectIamAdmin",
    "roles/iam.roleAdmin",
    "roles/iam.serviceAccountAdmin",
    "roles/iam.workloadIdentityPoolAdmin",
    "roles/editor",
    "roles/storage.admin"
  ])
  role    = each.key
  member  = "serviceAccount:${google_service_account.github-actions-terraform.email}"
  project = "cal-itp-data-infra"
}

resource "google_project_iam_member" "github-actions-service-account" {
  for_each = toset([
    "roles/viewer",
    "roles/bigquery.user",
    "roles/bigquery.dataOwner",
    "roles/bigquery.filteredDataViewer",
    "roles/bigquery.metadataViewer",
    "roles/composer.admin",
    "roles/storage.objectAdmin",
    google_project_iam_custom_role.tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-DataAnalyst.id
  ])
  role    = each.key
  member  = "serviceAccount:${google_service_account.github-actions-service-account.email}"
  project = "cal-itp-data-infra"
}

resource "google_project_iam_member" "composer-service-account" {
  for_each = toset([
    "roles/bigquery.dataOwner",
    "roles/bigquery.jobUser",
    "roles/cloudbuild.builds.viewer",
    "roles/composer.worker",
    "roles/secretmanager.secretAccessor",
    "roles/secretmanager.viewer"
  ])
  role    = each.key
  member  = "serviceAccount:${google_service_account.composer-service-account.email}"
  project = "cal-itp-data-infra"
}

# Allow composer to copy data to staging buckets
resource "google_project_iam_member" "composer-service-account__staging" {
  role    = "roles/storage.objectUser"
  member  = "serviceAccount:${google_service_account.composer-service-account.email}"
  project = "cal-itp-data-infra-staging"
}

resource "google_project_iam_member" "ms-entra-id-DOT_DDS_Data_Pipeline_and_Warehouse_Users" {
  for_each = toset([
    "roles/viewer",
    "roles/bigquery.user",
    "roles/bigquery.metadataViewer",
    "roles/storage.objectUser",
    "roles/secretmanager.secretAccessor",
    "roles/secretmanager.viewer",
    google_project_iam_custom_role.tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-DataAnalyst.id
  ])
  role    = each.key
  member  = "principalSet://iam.googleapis.com/locations/global/workforcePools/dot-ca-gov/group/DOT_DDS_Data_Pipeline_and_Warehouse_Users"
  project = "cal-itp-data-infra"
}

resource "google_project_iam_member" "ms-entra-id-DDS_Cloud_Admins" {
  for_each = toset([
    "roles/editor",
    "roles/bigquery.admin",
    "roles/bigquery.dataEditor",
    "roles/storage.objectAdmin",
    "roles/composer.admin",
    "roles/secretmanager.admin",
    google_project_iam_custom_role.tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-DataAnalyst.id
  ])
  role    = each.key
  member  = "principalSet://iam.googleapis.com/locations/global/workforcePools/dot-ca-gov/group/DDS_Cloud_Admins"
  project = "cal-itp-data-infra"
}

# FIXME: if this exists after 8/1/2025, delete it and see if GitHub Actions fail
resource "google_project_iam_member" "staging-github-actions-service-account" {
  role    = google_project_iam_custom_role.tfer--projects-002F-cal-itp-data-infra-002F-roles-002F-DataAnalyst.id
  member  = "serviceAccount:github-actions-service-account@cal-itp-data-infra-staging.iam.gserviceaccount.com"
  project = "cal-itp-data-infra"
}
