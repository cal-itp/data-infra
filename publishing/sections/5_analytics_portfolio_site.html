
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The Cal-ITP Analytics Portfolio &#8212; Cal-ITP Data Services</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=1d5f98c3" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-SZB618VNBZ"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-SZB618VNBZ');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-SZB618VNBZ');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'publishing/sections/5_analytics_portfolio_site';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Metabase" href="6_metabase.html" />
    <link rel="prev" title="Getting Notebooks Ready for the Portfolio" href="4_notebooks_styling.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/calitp_logo_MAIN.png" class="logo__image only-light" alt="Cal-ITP Data Services - Home"/>
    <img src="../../_static/calitp_logo_MAIN.png" class="logo__image only-dark pst-js-only" alt="Cal-ITP Data Services - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Data Services Documentation
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Analysts</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../analytics_welcome/overview.html">Welcome!</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_welcome/what_is_calitp.html">Cal-ITP Project Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_welcome/how_we_work.html">How We Work</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../analytics_onboarding/overview.html">Technical Onboarding</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../analytics_tools/overview.html">Introduction to Analytics Tools</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/github_setup.html">GitHub Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/tools_quick_links.html">Tools Quick Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/bi_dashboards.html">Business Insights &amp; Dashboards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/jupyterhub.html">JupyterHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/local_oracle_db_connections.html">Local Oracle Database Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/python_libraries.html">Useful Python Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/scripts.html">Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/rt_analysis.html">RT Analysis Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/saving_code.html">Saving Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/storing_data.html">Storing Data During Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/data_catalogs.html">Using Data Catalogs</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../analytics_tools/knowledge_sharing.html">Helpful Links</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../analytics_new_analysts/overview.html">Tutorials for New Python Users</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/01-data-analysis-intro.html">Data Analysis: Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/02-data-analysis-intermediate.html">Data Analysis: Intermediate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/03-data-management.html">Data Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/04-notebooks.html">Working with Jupyter notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/05-spatial-analysis-basics.html">Working with Geospatial Data: Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/06-spatial-analysis-intro.html">Working with Geospatial Data: Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/07-spatial-analysis-intermediate.html">Working with Geospatial Data: Intermediate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analytics_new_analysts/08-spatial-analysis-advanced.html">Working with Geospatial Data: Advanced</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../warehouse/overview.html">Introduction to the Warehouse</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/warehouse_starter_kit.html">Warehouse: Where to Begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/navigating_dbt_docs.html">Navigating the dbt Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/what_is_agency.html">What is an <code class="docutils literal notranslate"><span class="pre">agency</span></code>?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/developing_dbt_models.html">Developing models in dbt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/adding_oneoff_data.html">Adding Ad-Hoc Data to the Warehouse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../warehouse/what_is_gtfs.html">What is GTFS, anyway?</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../overview.html">Where can I publish data?</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1_publishing_principles.html">Data Publishing Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_static_files.html">Static Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_github_pages.html">HTML Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_notebooks_styling.html">Getting Notebooks Ready for the Portfolio</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">The Cal-ITP Analytics Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="6_metabase.html">Metabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="7_gcs.html">GCS</a></li>
<li class="toctree-l2"><a class="reference internal" href="8_ckan.html">Publishing data to California Open Data aka CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="9_geoportal.html">Publishing data to California State Geoportal</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../architecture/architecture_overview.html">Architecture Overview</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/services.html">Deployed Services and Sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/images_and_packages.html">Published Images and Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/data.html">Data pipelines</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../airflow/dags-maintenance.html">Airflow Operational Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transit_database/transitdatabase.html">Transit Database (Airtable)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contribute to the Docs!</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contribute/overview.html">Getting Started</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/contribute-best-practices.html">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/submitting_changes.html">Submitting Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/content_types.html">Common Content</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/cal-itp/data-infra" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/cal-itp/data-infra/edit/main/docs/publishing/sections/5_analytics_portfolio_site.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/cal-itp/data-infra/issues/new?title=Issue%20on%20page%20%2Fpublishing/sections/5_analytics_portfolio_site.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/publishing/sections/5_analytics_portfolio_site.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>The Cal-ITP Analytics Portfolio</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#netlify-setup">Netlify Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-setup">File Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#readme-md">README.md</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#yml">YML</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-and-deploying-your-report">Building and Deploying your Report</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-your-report">Build your Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deploy-your-report">Deploy your Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-specifications">Other Specifications</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-to-the-makefile">Adding to the Makefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redeploying-portfolio-refresh-index-page">Redeploying Portfolio/ Refresh Index Page</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="the-cal-itp-analytics-portfolio">
<span id="publishing-analytics-portfolio-site"></span><h1>The Cal-ITP Analytics Portfolio<a class="headerlink" href="#the-cal-itp-analytics-portfolio" title="Link to this heading">#</a></h1>
<p>Now that your notebook(s) are portfolio-ready, it’s time to publish your work to the portfolio!</p>
<section id="netlify-setup">
<h2>Netlify Setup<a class="headerlink" href="#netlify-setup" title="Link to this heading">#</a></h2>
<p>Netlify is the platform turns our Jupyter Notebooks uploaded to GitHub into a full website.</p>
<p>To setup your netlify key:</p>
<ul class="simple">
<li><p>Ask in Slack/Teams for a Netlify key if you don’t have one yet.</p></li>
<li><p>If you already have your Netlify key set up, find it by typing <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">~/.bash_profile</span></code> into the root of your repo.</p></li>
<li><p>Install netlify: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">netlify-cli</span></code></p></li>
<li><p>Navigate to your main directory</p></li>
<li><p>Edit your bash profile using Nano:</p>
<ul>
<li><p>In your terminal, enter <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">~/.bash_profile</span></code> to edit.</p></li>
<li><p>Navigate using arrows (down, right, etc) to create 2 new lines. Paste (<code class="docutils literal notranslate"><span class="pre">CTRL</span></code> + <code class="docutils literal notranslate"><span class="pre">V</span></code>) your netlify key in the lines in the following format, each line prefixed with “export”</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">NETLIFY_AUTH_TOKEN=</span> <span class="pre">YOURTOKENHERE123</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">NETLIFY_SITE_ID=cal-itp-data-analyses</span></code></p></li>
</ul>
</li>
<li><p>To exit, press <code class="docutils literal notranslate"><span class="pre">CTRL</span></code> + <code class="docutils literal notranslate"><span class="pre">X</span></code></p></li>
<li><p>Nano will ask if you want to save your changes. Type <code class="docutils literal notranslate"><span class="pre">Y</span></code> to save.</p>
<ul>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">N</span></code> to discard your changes and exit</p></li>
</ul>
</li>
</ul>
</li>
<li><p>For the changes to take effect, open a new terminal or run <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bash_profile</span></code></p>
<ul>
<li><p>Back in your terminal, enter <code class="docutils literal notranslate"><span class="pre">env</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">NETLIFY</span></code> to see that your Netlify token is there</p></li>
</ul>
</li>
</ul>
</section>
<section id="file-setup">
<h2>File Setup<a class="headerlink" href="#file-setup" title="Link to this heading">#</a></h2>
<p>In order to publish to <a class="reference external" href="http://analysis.calitp.org">analysis.calitp.org</a>, you need to create two different files.</p>
<ul class="simple">
<li><p>A <a class="reference external" href="http://README.md">README.md</a>.</p></li>
<li><p>A YML.</p></li>
</ul>
<section id="readme-md">
<h3><a class="reference external" href="http://README.md">README.md</a><a class="headerlink" href="#readme-md" title="Link to this heading">#</a></h3>
<p>Create a <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file in the repo where your work lies. This also forms the landing page of your website.</p>
<ul class="simple">
<li><p>Your file should <b>always</b> be titled as <code class="docutils literal notranslate"><span class="pre">README.md</span></code>. No other variants such as <code class="docutils literal notranslate"><span class="pre">README_gtfs.md</span></code> or <code class="docutils literal notranslate"><span class="pre">read</span> <span class="pre">me.md</span></code> or <code class="docutils literal notranslate"> <span class="pre">README.md</span></code> are allowed. The portfolio can only take a <code class="docutils literal notranslate"><span class="pre">README.md</span></code> when generating the landing page of your website.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">README.md</span></code> is the first thing the audience will see when they visit your website. Therefore, this page should contain content such as the goal of your work, the methodology you used, relevant links, and more. <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/portfolio/template_README.md">Here</a> is a template for you to populate.</p></li>
<li><p>If you do accidentally create a <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file with extra strings, you can fix this by taking the following steps:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">portfolio/my_analysis/README_accidentally_named_something_else.md</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">portfolio/my_analysis/_build/html/README_accidentally_named_something.html</span></code>. We use <code class="docutils literal notranslate"><span class="pre">rm</span></code> because _build/html folder is not checked into GitHub</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span> <span class="pre">--no-execute-papermill</span> <span class="pre">--deploy</span></code> to rerun the portfolio to incorporate only the new changes to your <code class="docutils literal notranslate"><span class="pre">README.md</span></code> if the other pages are correct.</p></li>
</ul>
</li>
<li><p>Need a node graph to illustrate where your data comes from and how it’s processed? Try mermaid (<a class="reference external" href="https://mermaid.js.org/intro/">documentation here</a>). See published <a class="reference external" href="https://gtfs-digest--cal-itp-data-analyses.netlify.app/readme">GTFS Digest</a> for a current example.</p></li>
</ul>
</section>
<section id="yml">
<h3>YML<a class="headerlink" href="#yml" title="Link to this heading">#</a></h3>
<p>Each <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file creates a new site on the <a class="reference external" href="https://analysis.calitp.org/">Portfolio’s Index Page</a>, so every project needs its own file. DLA Grant Analysis, SB125 Route Illustrations, and Active Transportation Program all have their own <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file.</p>
<p>All the <code class="docutils literal notranslate"><span class="pre">.yml</span></code> files live here at <a class="reference external" href="https://github.com/cal-itp/data-analyses/tree/main/portfolio/sites">data-analyses/portfolio/sites</a>. Navigate to this folder to create the .yml file.</p>
<p>Here’s how to create a <code class="docutils literal notranslate"><span class="pre">yml</span></code> file:</p>
<ul>
<li><p>Include the directory to the notebook(s) you want to publish.</p></li>
<li><p>Name your <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file. For now we will use <code class="docutils literal notranslate"><span class="pre">my_report.yml</span></code> as an example.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.yml</span></code> file should contain the title, directory, <a class="reference external" href="http://README.md">README.md</a> path and notebook path.</p></li>
<li><p>The structure of your <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file depends on the type of your analysis:</p>
<ul>
<li><p>If you have one parameterized notebook with <strong>one parameter</strong>:</p>
<ul class="simple">
<li><p>Example: <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/portfolio/sites/dla.yml">dla.yml</a></p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="n">My</span> <span class="n">Analyses</span>
<span class="n">directory</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span>
<span class="n">readme</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">notebook</span><span class="o">.</span><span class="n">ipynb</span>
<span class="n">parts</span><span class="p">:</span>
   <span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">Introduction</span>
   <span class="o">-</span> <span class="n">chapters</span><span class="p">:</span>
     <span class="o">-</span> <span class="n">params</span><span class="p">:</span>
          <span class="n">district_parameter</span><span class="p">:</span> <span class="mi">1</span>
          <span class="n">district_title</span><span class="p">:</span> <span class="n">District</span> <span class="mi">1</span>
     <span class="o">-</span> <span class="n">params</span><span class="p">:</span>
          <span class="n">district_parameter</span><span class="p">:</span> <span class="mi">2</span>
          <span class="n">district_title</span><span class="p">:</span> <span class="n">District</span> <span class="mi">2</span>
    <span class="ow">and</span> <span class="n">so</span> <span class="n">on</span><span class="o">...</span>
    <span class="o">-</span> <span class="n">params</span><span class="p">:</span>
          <span class="n">district_parameter</span><span class="p">:</span> <span class="mi">12</span>
          <span class="n">district_title</span><span class="p">:</span> <span class="n">District</span> <span class="mi">12</span>
</pre></div>
</div>
</li>
<li><p>If you have a parameterized notebook with <strong>multiple parameters</strong>:</p>
<ul class="simple">
<li><p>Example: <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/portfolio/sites/rt.yml">rt.yml</a>. You can also automate making a <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file using a script, <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/gtfs_digest/deploy_portfolio_yaml.py">example here</a>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="n">My</span> <span class="n">Analyses</span>
<span class="n">directory</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span>
<span class="n">readme</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">notebook</span><span class="o">.</span><span class="n">ipynb</span>
<span class="n">parts</span><span class="p">:</span>
<span class="o">-</span> <span class="n">chapters</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">County</span> <span class="n">Name</span>
    <span class="n">params</span><span class="p">:</span>
      <span class="n">parameter1_county_name</span>
    <span class="n">sections</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">city</span><span class="p">:</span> <span class="n">parameter2_city_name</span>
    <span class="o">-</span> <span class="n">city</span><span class="p">:</span> <span class="n">parameter2_city_name</span>
</pre></div>
</div>
</li>
<li><p>If you have an individual notebook with <strong>no parameters</strong>:</p>
<ul class="simple">
<li><p>Example: <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/portfolio/sites/quarterly_performance_metrics.yml">quarterly_performance_metrics.yml</a>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="n">My</span> <span class="n">Analyses</span>
<span class="n">directory</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span>
<span class="n">readme</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="n">parts</span><span class="p">:</span>
<span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">Introduction</span>
<span class="o">-</span> <span class="n">chapters</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">notebook_1</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">-</span> <span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">notebook_2</span><span class="o">.</span><span class="n">ipynb</span>
</pre></div>
</div>
</li>
<li><p>If you have multiple parameterized notebooks with <strong>the same parameters</strong>:</p>
<ul class="simple">
<li><p>Example: <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/portfolio/rt_parallel.yml">rt_parallel.yml</a></p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">title</span><span class="p">:</span> <span class="n">My</span> <span class="n">Analyses</span>
<span class="n">directory</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span>
<span class="n">readme</span><span class="p">:</span> <span class="o">./</span><span class="n">my</span><span class="o">-</span><span class="n">analyses</span><span class="o">/</span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="n">parts</span><span class="p">:</span>
<span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">District</span> <span class="n">Name</span>
<span class="o">-</span> <span class="n">chapters</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">Parameter</span> <span class="mi">1</span>
    <span class="n">params</span><span class="p">:</span>
      <span class="n">itp_id</span><span class="p">:</span> <span class="n">parameter_1</span>
        <span class="n">sections</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">sections</span>
        <span class="o">-</span> <span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">analysis_1</span><span class="o">/</span><span class="n">notebook_1</span><span class="o">.</span><span class="n">ipynb</span>
        <span class="o">-</span> <span class="n">notebook</span><span class="p">:</span> <span class="o">./</span><span class="n">analysis_2</span><span class="o">/</span><span class="n">notebook_2</span><span class="o">.</span><span class="n">ipynb</span>
  <span class="o">-</span> <span class="n">caption</span><span class="p">:</span> <span class="n">Parameter</span> <span class="mi">2</span>
    <span class="n">params</span><span class="p">:</span>
      <span class="n">itp_id</span><span class="p">:</span> <span class="n">parameter_2</span>
        <span class="n">sections</span><span class="p">:</span> <span class="o">*</span><span class="n">sections</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>
<section id="building-and-deploying-your-report">
<h2>Building and Deploying your Report<a class="headerlink" href="#building-and-deploying-your-report" title="Link to this heading">#</a></h2>
<p>After your Jupyter Notebook (refer to the previous section), <code class="docutils literal notranslate"><span class="pre">README.md</span></code>, and <code class="docutils literal notranslate"><span class="pre">.yml</span></code> files are setup properly, it’s time to deploy your work to the Portfolio!</p>
<section id="build-your-report">
<h3>Build your Report<a class="headerlink" href="#build-your-report" title="Link to this heading">#</a></h3>
<p><strong>Note:</strong> The build command must be run from the root of the repo at <code class="docutils literal notranslate"><span class="pre">~/data-analyses</span></code>!</p>
<ol class="arabic simple">
<li><p>Navigate back to the <code class="docutils literal notranslate"><span class="pre">~/data-analyses</span></code> and install the portfolio requirements with
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">portfolio/requirements.txt</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span></code> to build your report</p>
<ul class="simple">
<li><p><strong>Note:</strong> <code class="docutils literal notranslate"><span class="pre">my_report.yml</span></code> will be replaced by the name of your <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file in <a class="reference external" href="https://github.com/cal-itp/data-analyses/tree/main/portfolio/sites">data-analyses/portfolio/sites</a>.</p></li>
<li><p>Your build will be located in: <code class="docutils literal notranslate"><span class="pre">data-analyses/portfolio/my_report/_build/html/index.html</span></code></p></li>
</ul>
</li>
<li><p>Add the files using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and commit your progress!</p></li>
</ol>
</section>
<section id="deploy-your-report">
<h3>Deploy your Report<a class="headerlink" href="#deploy-your-report" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Make sure you are in the root of the data-analyses repo: <code class="docutils literal notranslate"><span class="pre">~/data-analyses</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span> <span class="pre">--deploy</span></code>.</p>
<ul class="simple">
<li><p>By running <code class="docutils literal notranslate"><span class="pre">--deploy</span></code>, you are deploying the changes to display in the Analytics Portfolio.</p></li>
<li><p><strong>Note:</strong> The <code class="docutils literal notranslate"><span class="pre">my_report</span></code> will be replaced by the name of your <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file in <a class="reference external" href="https://github.com/cal-itp/data-analyses/tree/main/portfolio/sites">data-analyses/portfolio/sites</a>.</p></li>
<li><p>If you have already deployed but want to make changes to the README, run: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span> <span class="pre">--no-execute-papermill</span> <span class="pre">--deploy</span></code></p>
<ul>
<li><p>Running this is helpful for larger outputs or if you are updating the README.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once this runs, you can check the preview link at the bottom of the output. It should look something like:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">–no-deploy</span></code>: <code class="docutils literal notranslate"><span class="pre">file:///home/jovyan/data-analyses/portfolio/my_report/_build/html/index.html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">–deploy</span></code>: <code class="docutils literal notranslate"><span class="pre">Website</span> <span class="pre">Draft</span> <span class="pre">URL:</span> <span class="pre">https://my-report--cal-itp-data-analyses.netlify.app</span></code></p></li>
</ul>
</li>
<li><p>Add the files using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> and commit!</p></li>
<li><p>Your notebook should now be displayed in the <a class="reference external" href="https://analysis.calitp.org/">Cal-ITP Analytics Portfolio</a></p>
<ul class="simple">
<li><p>If your work isn’t showing up on the Index page above, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">index</span> <span class="pre">--deploy</span> <span class="pre">--prod</span></code> to add it.</p></li>
</ul>
</li>
</ol>
</section>
<section id="other-specifications">
<h3>Other Specifications<a class="headerlink" href="#other-specifications" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>You also have the option to specify after the initial <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span> <span class="pre">[specification</span> <span class="pre">goes</span> <span class="pre">here]</span></code> command: run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">--help</span></code> to see the following options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--deploy</span> <span class="pre">/</span> <span class="pre">--no-deploy</span></code></p>
<ul>
<li><p>deploy this component to netlify.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--prepare-only</span> <span class="pre">/</span> <span class="pre">--no-prepare-only</span></code></p>
<ul>
<li><p>Pass-through flag to papermill; if true, papermill will not actually execute cells.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--execute-papermill</span> <span class="pre">/</span> <span class="pre">--no-execute-papermill</span></code></p>
<ul>
<li><p>If false, will skip calls to papermill</p></li>
<li><p>For example, if only the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> is updated but the notebooks have remained the same, you would run
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">portfolio/portfolio.py</span> <span class="pre">build</span> <span class="pre">my_report</span> <span class="pre">--no-execute-papermill</span> <span class="pre">--deploy</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-stderr</span> <span class="pre">/</span> <span class="pre">--no-no-stderr</span></code></p>
<ul>
<li><p>If true, will clear stderr stream for cell outputs</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">--continue-on-error</span> <span class="pre">/</span> <span class="pre">--no-continue-on-error</span></code></p>
<ul>
<li><p>Default: no-continue-on-error</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="adding-to-the-makefile">
<h3>Adding to the Makefile<a class="headerlink" href="#adding-to-the-makefile" title="Link to this heading">#</a></h3>
<p>Another and more efficient way to write to the Analytics Portfolio is to use the Makefile and run
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">build_my_report</span> <span class="pre">-f</span> <span class="pre">Makefile</span></code> in the <code class="docutils literal notranslate"><span class="pre">data-analyses</span></code> repo.</p>
<p>Here’s an example makefile in <a class="reference external" href="https://github.com/cal-itp/data-analyses/blob/main/Makefile"><code class="docutils literal notranslate"><span class="pre">cal-itp/data-analyses</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">build_my_reports</span><span class="p">:</span>
    <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
    <span class="n">git</span> <span class="n">rm</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">my_report</span><span class="o">/</span> <span class="o">-</span><span class="n">rf</span>
    <span class="n">python</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">portfolio</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span> <span class="n">my_report</span> <span class="o">--</span><span class="n">deploy</span>
    <span class="n">git</span> <span class="n">add</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">my_report</span><span class="o">/</span><span class="n">district_</span><span class="o">*/</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">my_report</span><span class="o">/*.</span><span class="n">yml</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">my_report</span><span class="o">/*.</span><span class="n">md</span>
    <span class="n">git</span> <span class="n">add</span> <span class="n">portfolio</span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">my_report</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
</section>
<section id="redeploying-portfolio-refresh-index-page">
<h3>Redeploying Portfolio/ Refresh Index Page<a class="headerlink" href="#redeploying-portfolio-refresh-index-page" title="Link to this heading">#</a></h3>
<p>When redeploying your portfolio with new content and there’s an old version with existing files or content on your portfolio site or in your local environment, it’s important to clean up the old files before adding new content.</p>
<p>Use python <code class="docutils literal notranslate"><span class="pre">portfolio/portfolio.py</span> <span class="pre">clean</span> <span class="pre">my_report</span></code> before deploying your report.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./publishing/sections"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="4_notebooks_styling.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Getting Notebooks Ready for the Portfolio</p>
      </div>
    </a>
    <a class="right-next"
       href="6_metabase.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Metabase</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#netlify-setup">Netlify Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-setup">File Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#readme-md">README.md</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#yml">YML</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-and-deploying-your-report">Building and Deploying your Report</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-your-report">Build your Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deploy-your-report">Deploy your Report</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-specifications">Other Specifications</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-to-the-makefile">Adding to the Makefile</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redeploying-portfolio-refresh-index-page">Redeploying Portfolio/ Refresh Index Page</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Cal-ITP
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>